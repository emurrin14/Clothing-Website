{% extends "clothesshop/base.html" %}
{% load static %}

{% block title %}Clothesshop - All Listings{% endblock %}

{% block content %}
  <!-- image content -->
  <div class="wrap imgcontent">
    <section class="grid" aria-label="Gallery of images">
      {% if listings %}
      {% for listing in listings %}

      <figure class="card">
          <a href="{% url 'listing' listing.id %}" class="product-title">
          <div class="hover-image">
            {% if listing.primary_image %}
            <img class="hover-main" src="{{ listing.primary_image.url }}" alt="{{ listing.title }}" loading="lazy">
            <img class="hover-alt" src="{{ listing.secondary_image.url }}" alt="{{ listing.title }}" loading="lazy">
            {% else %}
            <img src="https://via.placeholder.com/300x200?text=No+Image" alt="No image available">
            {% endif %}
          </div>
            <figcaption>
              <span>{{ listing.title }}</span>
            </figcaption>
          </a>
        </figure>
      {% endfor %}

      {% else %}
      <p class="no-listings">No listings found at the moment.</p>
      {% endif %}

    </section>
  </div>
{% endblock %}