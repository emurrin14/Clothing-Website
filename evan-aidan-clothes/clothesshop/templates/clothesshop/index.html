{% extends "clothesshop/base.html" %}
{% load static %}

{% block title %}SHOP{% endblock %}
{% block extra_head %}
  <style>
      .footer-column .shoplink{
          text-decoration: underline;
          text-decoration-thickness: 12%;
      }
  </style>
{% endblock %}

{% block content %}
<body>
  {% for i in "123"|make_list %}
  <div id="gridimgcontainer" class="grid">
    {% if listings %}
    {% for listing in listings %}
    {% with images=listing.images.all %}
      <a href="{% url 'listing' listing.id %}" class="product-title">
        <figure class="card reveal" 
          data-origin="bottom" 
          data-distance="30px" 
          data-duration="400" 
          data-delay="0" 
          id="{{i}}">

          {% if images %}
            <img class="mainimg" src="{{ images.0.image.url }}" alt="{{ listing.title }}">
          {% if images|length > 1 %}
            <img class="hoverimg" src="{{ images.1.image.url }}" alt="{{ listing.title }}">
          {% else %}
            <img class="hoverimg" src="{{ images.0.image.url }}" alt="{{ listing.title }}">
          {% endif %}
          
          {% else %}
            <img src="https://placehold.co/300x200?text=No+Image" alt="No image available">
          {% endif %}
          <figcaption class="">{{ listing.title }}</figcaption>
        </figure>
      </a>
    {% endwith %}
    {% endfor %}
    {% else %}
      <p class="no-listings">No listings found at the moment.</p>
    {% endif %}
  </div>
  {% endfor %}
</body>
{% endblock %}
{% block scripts %}
{% endblock %}